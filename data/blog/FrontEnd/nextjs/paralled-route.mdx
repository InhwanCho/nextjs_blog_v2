---
title: 'Nextjs 패러렐 라우트, 인터셉팅 라우트'

tags:
  - nextjs

date: 2024-03-04
---

Next.js의 `패러렐 라우트(Parallel Route)`와 `인터셉팅 라우트(Intercepting Routes)`에 대해 알아보겠습니다.

## 패러렐 라우트(Parallel Route)

`패러렐 라우트`는 병렬 라우팅을 의미합니다. 병렬 라우팅을 사용하면 동일한 레이아웃에서 하나 이상의 페이지를 동시에 또는 조건부로 렌더링할 수 있습니다.

이를 통해 각 경로에 대해 독립적인 오류 및 로드 상태를 정의할 수 있습니다.

### 기존 모달과의 차이점

- 패러렐 라우트는 동시에 띄워진 페이지의 주소가 각각 다릅니다.
- 기존 모달은 주소 변경 없이 모달이 동작합니다.

### 패러렐 라우트 사용하기

패러렐 라우트는 명명된 **슬롯(at == \@)**을 사용하여 생성됩니다.

예를 들어 `@folder` 형태로 슬롯을 생성할 수 있으며, 이는 경로 세그먼트가 아니므로 URL 구조에 영향을 주지 않습니다.

```jsx
// 예시: app/layout.tsx에서의 사용
<Layout>
  <Analytics />
  <Team />
  {children}
</Layout>
```

> 💡 children prop은 폴더에 매핑할 필요가 없는 암시적 슬롯입니다.
> 즉, `app/page.tsx` 와 `app/@children/page.tsx` 는 동일합니다.
> 단 \@children 폴더는 생략되었다고 보면 됩니다.

> 💡 다른 계층 구조를 갖고 있는 페이지는 병렬로 렌더링 할 수 없습니다.
> 예를들어, `app/page.tsx` 와 `app/@modal/page.tsx` 는 병렬로 렌더링 할 수 없다는 의미입니다.
> 따라서 병렬로 렌더링 하기 위해서는 슬롯과 다른 슬롯(혹은 페이지)가 같은 계층 구조를 가져야 한다.

---

## 인터셉팅 라우트(Intercepting Routes)

인터셉팅 라우팅을 활용하면 현재 레이아웃 내에서 다른 부분으로의 경로를 로드할 수 있습니다.

사용자가 다른 컨텍스트로 전환하지 않고도 경로의 내용을 표시하는 상황에서 유용합니다.

### 사용방법

인터셉팅 라우트는 `(..)` 를 사용하여 정의할 수 있으며, 이는 상대 경로 규칙과 유사합니다.

```txt
(.)    동일한 수준의 세그먼트와 일치
(..)   한 수준 위의 세그먼트와 일치
(..)(..) 두 수준 위의 세그먼트와 일치
(...)  루트 app 디렉터리의 세그먼트와 일치
```

예시: `photo` 내에서 `feed/(..)photo` 세그먼트 가로채기



> 💡 인터셉팅 라우트는 클라이언트에서 라우팅 할 때만 적용됩니다.

---

이상으로 `Next.js`의 `패러렐 라우트`와 `인터셉팅 라우트`에 대해 알아보았습니다.

이를 통해 사용자 경험을 향상시키고 보다 효율적인 웹 애플리케이션을 구축할 수 있습니다.

[참고: Next.js Documentation](https://nextjs.org/docs)
